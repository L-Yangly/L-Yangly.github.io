<!doctype html><html lang=zh-cn><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=robots content="noodp"><title class=pjax-title>命令行 PowerShell - Yang</title><meta name=Description content><meta property="og:title" content="命令行 PowerShell"><meta property="og:description" content="摘要：Windows PowerShell 是一种命令行外壳程序和脚本环境，使命令行用户和脚本编写者可以利用 .NET Framework的强大功能。"><meta property="og:type" content="article"><meta property="og:url" content="https://Yangliuly1.github.io/%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9F%BA%E7%A1%80-0x04%E5%91%BD%E4%BB%A4%E8%A1%8Cpowershell/"><meta property="og:image" content="https://Yangliuly1.github.io/images/avatar.png"><meta property="article:section" content="posts"><meta property="article:published_time" content="2020-01-01T08:00:00+08:00"><meta property="article:modified_time" content="2020-01-01T08:00:00+08:00"><meta name=twitter:card content="summary_large_image"><meta name=twitter:image content="https://Yangliuly1.github.io/images/avatar.png"><meta name=twitter:title content="命令行 PowerShell"><meta name=twitter:description content="摘要：Windows PowerShell 是一种命令行外壳程序和脚本环境，使命令行用户和脚本编写者可以利用 .NET Framework的强大功能。"><meta name=application-name content="Yang"><meta name=apple-mobile-web-app-title content="Yang"><meta name=theme-color content="#f8f8f8"><meta name=msapplication-TileColor content="#da532c"><link rel="shortcut icon" type=image/x-icon href=/favicon.ico><link rel=icon type=image/png sizes=32x32 href=/favicon-32x32.png><link rel=icon type=image/png sizes=16x16 href=/favicon-16x16.png><link rel=apple-touch-icon sizes=180x180 href=/apple-touch-icon.png><link rel=mask-icon href=/safari-pinned-tab.svg color=#5bbad5><link rel=manifest href=/site.webmanifest><link rel=canonical href=https://Yangliuly1.github.io/%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9F%BA%E7%A1%80-0x04%E5%91%BD%E4%BB%A4%E8%A1%8Cpowershell/><link rel=prev href=https://Yangliuly1.github.io/%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9F%BA%E7%A1%80-0x05%E5%91%BD%E4%BB%A4%E8%A1%8Cterminal/><link rel=next href=https://Yangliuly1.github.io/%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9F%BA%E7%A1%80-0x06%E5%91%BD%E4%BB%A4%E8%A1%8Ccmder/><link rel=stylesheet href=/lib/normalize/normalize.min.css><link rel=stylesheet href=/css/style.min.css><link rel=preload as=style onload='this.onload=null,this.rel="stylesheet"' href=/lib/fontawesome-free/all.min.css><noscript><link rel=stylesheet href=/lib/fontawesome-free/all.min.css></noscript><link rel=preload as=style onload='this.onload=null,this.rel="stylesheet"' href=/lib/animate/animate.min.css><noscript><link rel=stylesheet href=/lib/animate/animate.min.css></noscript><script type=application/ld+json>{"@context":"http://schema.org","@type":"BlogPosting","headline":"命令行 PowerShell","inLanguage":"zh-CN","mainEntityOfPage":{"@type":"WebPage","@id":"https:\/\/Yangliuly1.github.io\/%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9F%BA%E7%A1%80-0x04%E5%91%BD%E4%BB%A4%E8%A1%8Cpowershell\/"},"genre":"posts","keywords":"软件","wordcount":638,"url":"https:\/\/Yangliuly1.github.io\/%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9F%BA%E7%A1%80-0x04%E5%91%BD%E4%BB%A4%E8%A1%8Cpowershell\/","datePublished":"2020-01-01T08:00:00+08:00","dateModified":"2020-01-01T08:00:00+08:00","publisher":{"@type":"Organization","name":"Yangliuly1"},"author":{"@type":"Person","name":"Yangliuly1"},"description":""}</script></head><body header-desktop=fixed header-mobile=auto><script type=text/javascript>function setTheme(e){document.body.setAttribute("theme",e),document.documentElement.style.setProperty("color-scheme",e==="light"?"light":"dark")}function saveTheme(e){window.localStorage&&localStorage.setItem("theme",e)}function getMeta(t){const e=document.getElementsByTagName("meta");for(let n=0;n<e.length;n++)if(e[n].getAttribute("name")===t)return e[n];return''}if(window.localStorage&&localStorage.getItem("theme")){let e=localStorage.getItem("theme");e==="light"||e==="dark"||e==="black"?setTheme(e):window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?setTheme("dark"):setTheme("light")}else"auto"==="light"||"auto"==="dark"||"auto"==="black"?(setTheme("auto"),saveTheme("auto")):(saveTheme("auto"),window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?setTheme("dark"):setTheme("light"));let metaColors={light:"#f8f8f8",dark:"#252627",black:"#000000"};getMeta("theme-color").content=metaColors[document.body.getAttribute("theme")]</script><div id=back-to-top></div><div id=mask></div><div class=wrapper><header class=desktop id=header-desktop><div class=header-wrapper><div class=header-title><a href=/ title=Yang><span class=header-title-pre><i class="far fa-edit fa-fw"></i></span><span id=desktop-header-typeit class=typeit></span></a></div><div class=menu><div class=menu-inner><a class=menu-item href=/posts/>文章 </a><a class=menu-item href=/tags/>标签 </a><a class=menu-item href=/categories/>分类 </a><a class=menu-item href=/about/>关于 </a><a class=menu-item href=https://github.com/Yangliuly1 title=GitHub rel="noopener noreffer" target=_blank><i class="fab fa-github fa-fw"></i> </a><span class="menu-item delimiter"></span><a href=# onclick=return!1 class="menu-item theme-select" title="Switch Theme">
<i class="fas fa-adjust fa-fw"></i>
<select class=color-theme-select id=theme-select-desktop title="Switch Theme"><option value=light>Light</option><option value=dark>Dark</option><option value=black>Black</option><option value=auto>Auto</option></select></a></div></div></div></header><header class=mobile id=header-mobile><div class=header-container><div class=header-wrapper><div class=header-title><a href=/ title=Yang><span class=header-title-pre><i class="far fa-edit fa-fw"></i></span><span id=mobile-header-typeit class=typeit></span></a></div><div class=menu-toggle id=menu-toggle-mobile><span></span><span></span><span></span></div></div><div class=menu id=menu-mobile><a class=menu-item href=/posts/ title>文章</a><a class=menu-item href=/tags/ title>标签</a><a class=menu-item href=/categories/ title>分类</a><a class=menu-item href=/about/ title>关于</a><a class=menu-item href=https://github.com/Yangliuly1 title=GitHub rel="noopener noreffer" target=_blank><i class="fab fa-github fa-fw"></i></a><a href=# onclick=return!1 class="menu-item theme-select" title="Switch Theme">
<i class="fas fa-adjust fa-fw"></i>
<select class=color-theme-select id=theme-select-mobile title="Switch Theme"><option value=light>Light</option><option value=dark>Dark</option><option value=black>Black</option><option value=auto>Auto</option></select></a></div></div></header><div class="search-dropdown desktop"><div id=search-dropdown-desktop></div></div><div class="search-dropdown mobile"><div id=search-dropdown-mobile></div></div><main class=main><div class=container><div class=toc id=toc-auto><h2 class=toc-title>Contents</h2><div class="toc-content always-active" id=toc-content-auto><nav id=TableOfContents><ul><li><a href=#oh-my-posh-插件>Oh My Posh 插件</a><ul><li><a href=#1-安装>1. 安装</a></li><li><a href=#2-配置>2. 配置</a></li></ul></li><li><a href=#oh-my-zsh-插件>Oh My Zsh 插件</a></li><li><a href=#scoop-插件>scoop 插件</a><ul><li><a href=#1-环境配置与安装>1. 环境配置与安装</a></li><li><a href=#2--scoop-命令>2. scoop 命令</a></li><li><a href=#3-scoop-加速下载>3. scoop 加速下载</a></li><li><a href=#4-scoop-bucker>4. scoop bucker</a></li><li><a href=#5-配置导出>5. 配置导出</a></li></ul></li><li><a href=#gsodo-插件>Gsodo 插件</a></li><li><a href=#git-插件>Git 插件</a></li><li><a href=#字体渲染>字体渲染</a></li><li><a href=#alias-别名>Alias 别名</a></li><li><a href=#powershell-问题>PowerShell 问题</a><ul><li><a href=#1-尝试新的跨平台-powershell-httpsakamspscore6>1. 尝试新的跨平台 PowerShell <code>https://aka.ms/pscore6</code></a></li><li><a href=#2-arning-terminal-type-xterm-256color-is-not-supported-xterm-will-be-used-as-default>2. ARNING: Terminal type &lsquo;xterm-256color&rsquo; is not supported, &lsquo;xterm&rsquo; will be used as default.</a></li><li><a href=#3-powershell不显示conda环境>3. Powershell不显示conda环境</a></li></ul></li></ul></nav></div></div><script>document.getElementsByTagName("main")[0].setAttribute("pageStyle","normal")</script><script>document.getElementsByTagName("main")[0].setAttribute("autoTOC","true")</script><article class="page single"><h1 class="single-title animate__animated animate__flipInX">命令行 PowerShell</h1><div class=post-meta><div class=post-meta-line><span class=post-author><i class="author fas fa-user-circle fa-fw"></i><a href=/about/ title=Author rel=author class=author>Yangliuly1</a>
</span>&nbsp;<span class=post-category>included in </span>&nbsp;<span class=post-category>category <a href=/categories/%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9F%BA%E7%A1%80/><i class="far fa-folder fa-fw"></i>计算机基础</a></span></div><div class=post-meta-line><i class="far fa-calendar-alt fa-fw"></i>&nbsp;<time datetime=2020-01-01>2020-01-01</time>&nbsp;<i class="far fa-edit fa-fw"></i>&nbsp;<time datetime=2020-01-01>2020-01-01</time>&nbsp;<i class="fas fa-pencil-alt fa-fw"></i>&nbsp;638 words&nbsp;
<i class="far fa-clock fa-fw"></i>&nbsp;3 minutes&nbsp;</div></div><div class="details toc" id=toc-static kept><div class="details-summary toc-title"><span>Contents</span>
<span><i class="details-icon fas fa-angle-right"></i></span></div><div class="details-content toc-content" id=toc-content-static><nav id=TableOfContents><ul><li><a href=#oh-my-posh-插件>Oh My Posh 插件</a><ul><li><a href=#1-安装>1. 安装</a></li><li><a href=#2-配置>2. 配置</a></li></ul></li><li><a href=#oh-my-zsh-插件>Oh My Zsh 插件</a></li><li><a href=#scoop-插件>scoop 插件</a><ul><li><a href=#1-环境配置与安装>1. 环境配置与安装</a></li><li><a href=#2--scoop-命令>2. scoop 命令</a></li><li><a href=#3-scoop-加速下载>3. scoop 加速下载</a></li><li><a href=#4-scoop-bucker>4. scoop bucker</a></li><li><a href=#5-配置导出>5. 配置导出</a></li></ul></li><li><a href=#gsodo-插件>Gsodo 插件</a></li><li><a href=#git-插件>Git 插件</a></li><li><a href=#字体渲染>字体渲染</a></li><li><a href=#alias-别名>Alias 别名</a></li><li><a href=#powershell-问题>PowerShell 问题</a><ul><li><a href=#1-尝试新的跨平台-powershell-httpsakamspscore6>1. 尝试新的跨平台 PowerShell <code>https://aka.ms/pscore6</code></a></li><li><a href=#2-arning-terminal-type-xterm-256color-is-not-supported-xterm-will-be-used-as-default>2. ARNING: Terminal type &lsquo;xterm-256color&rsquo; is not supported, &lsquo;xterm&rsquo; will be used as default.</a></li><li><a href=#3-powershell不显示conda环境>3. Powershell不显示conda环境</a></li></ul></li></ul></nav></div></div><div class=content id=content><p>摘要：Windows PowerShell 是一种命令行外壳程序和脚本环境，使命令行用户和脚本编写者可以利用 .NET Framework的强大功能。</p><h1 id=title class=headerLink><a href=#title class=header-mark></a>Title</h1><h1 id=命令行-powershell class=headerLink><a href=#%e5%91%bd%e4%bb%a4%e8%a1%8c-powershell class=header-mark></a>命令行 PowerShell</h1><h2 id=oh-my-posh-插件 class=headerLink><a href=#oh-my-posh-%e6%8f%92%e4%bb%b6 class=header-mark></a>Oh My Posh 插件</h2><h3 id=1-安装 class=headerLink><a href=#1-%e5%ae%89%e8%a3%85 class=header-mark></a>1. 安装</h3><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span><span class=lnt>5
</span><span class=lnt>6
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>$ <span class=nv>$Install</span>-Module posh-git -Scope CurrentUser
</span></span><span class=line><span class=cl>$ Install-Module oh-my-posh -Scope CurrentUser
</span></span><span class=line><span class=cl> 
</span></span><span class=line><span class=cl>$ Set-Prompt
</span></span><span class=line><span class=cl>$ Set-Theme Paradox
</span></span><span class=line><span class=cl><span class=c1># 主题根据自己喜好来选，可以去上面 GitHub 链接向下翻查看预览</span>
</span></span></code></pre></td></tr></table></div></div><h3 id=2-配置 class=headerLink><a href=#2-%e9%85%8d%e7%bd%ae class=header-mark></a>2. 配置</h3><p>打开默认 PowerShell 的启动配置文件（如果没有就创建）</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span><span class=lnt>5
</span><span class=lnt>6
</span><span class=lnt>7
</span><span class=lnt>8
</span><span class=lnt>9
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl><span class=c1># 如果之前没有配置文件，就新建一个 PowerShell 配置文件</span>
</span></span><span class=line><span class=cl>$ <span class=k>if</span> <span class=o>(</span>!<span class=o>(</span>Test-Path -Path <span class=nv>$PROFILE</span> <span class=o>))</span> <span class=o>{</span> New-Item -Type File -Path <span class=nv>$PROFILE</span> -Force <span class=o>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># 用记事本打开配置文件</span>
</span></span><span class=line><span class=cl>$ notepad <span class=nv>$PROFILE</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># 系统上禁止运行脚本</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>$ set-executionpolicy remotesigned
</span></span></code></pre></td></tr></table></div></div><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span><span class=lnt>5
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl><span class=c1># 弹出的窗口中粘贴以下内容：</span>
</span></span><span class=line><span class=cl>$ Import-Module posh-git 
</span></span><span class=line><span class=cl>$ Import-Module oh-my-posh 
</span></span><span class=line><span class=cl><span class=c1># 设置主题Paradox/Sorin/Agnoster/Avit/robbyrussell</span>
</span></span><span class=line><span class=cl>$ Set-Theme Sorin
</span></span></code></pre></td></tr></table></div></div><h2 id=oh-my-zsh-插件 class=headerLink><a href=#oh-my-zsh-%e6%8f%92%e4%bb%b6 class=header-mark></a>Oh My Zsh 插件</h2><p>有像高亮、自动补全等提高效率和易用性的插件。Oh My Posh 原生就支持高亮了，自动补全也有专门插件实现，那就是 PSReadline , 将官方给的 <a href=https://raw.githubusercontent.com/PowerShell/PSReadLine/master/PSReadLine/SamplePSReadLineProfile.ps1 target=_blank rel="noopener noreffer">样例</a> 全部复制进去，注意命名空间的申明（using namespace）一定要在最上端。并在 Import-Module PSReadLine 下面加上一行：</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl><span class=c1># 注: 已经自动安装了</span>
</span></span><span class=line><span class=cl>$ notepad <span class=nv>$PROFILE</span>
</span></span><span class=line><span class=cl><span class=c1># 用于实现 Tab 触发选择模式。</span>
</span></span><span class=line><span class=cl>$ Set-PSReadlineKeyHandler -Key Tab -Function MenuComplete
</span></span></code></pre></td></tr></table></div></div><h2 id=scoop-插件 class=headerLink><a href=#scoop-%e6%8f%92%e4%bb%b6 class=header-mark></a>scoop 插件</h2><ul><li>link: <a href=https://github.com/lukesampson/scoop target=_blank rel="noopener noreffer">scoop</a></li></ul><h3 id=1-环境配置与安装 class=headerLink><a href=#1-%e7%8e%af%e5%a2%83%e9%85%8d%e7%bd%ae%e4%b8%8e%e5%ae%89%e8%a3%85 class=header-mark></a>1. 环境配置与安装</h3><ol><li><a href=https://aka.ms/wmf5download target=_blank rel="noopener noreffer">PowerShell 5</a> (or later, include PowerShell Core) and <a href=https://www.microsoft.com/net/download target=_blank rel="noopener noreffer">.NET Framework 4.5</a> (or later)</li></ol><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>$ <span class=nv>$PSVersionTable</span>.PSVersion.Major   <span class=c1>#查看Powershell版本</span>
</span></span><span class=line><span class=cl>$ <span class=nv>$PSVersionTable</span>.CLRVersion.Major  <span class=c1>#查看.NET Framework版本</span>
</span></span></code></pre></td></tr></table></div></div><ol start=2><li>允许本地脚本的执行</li></ol><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>$ Set-ExecutionPolicy -ExecutionPolicy RemoteSigned -Scope CurrentUser <span class=c1># 选择A[全是]</span>
</span></span><span class=line><span class=cl>$ Get-ExecutionPolicy
</span></span></code></pre></td></tr></table></div></div><ol start=3><li>安装</li></ol><ul><li>默认目录C:\Users\user(自己的用户名)\scoop</li></ul><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>$ <span class=nv>$env</span>:SCOOP<span class=o>=</span><span class=s1>&#39;D:\Scoop&#39;</span>
</span></span><span class=line><span class=cl>$ <span class=o>[</span>Environment<span class=o>]</span>::SetEnvironmentVariable<span class=o>(</span><span class=s1>&#39;SCOOP&#39;</span>, <span class=nv>$env</span>:SCOOP, <span class=s1>&#39;User&#39;</span><span class=o>)</span>
</span></span><span class=line><span class=cl>$ iex <span class=o>(</span>new-object net.webclient<span class=o>)</span>.downloadstring<span class=o>(</span><span class=s1>&#39;https://get.scoop.sh&#39;</span><span class=o>)</span>
</span></span></code></pre></td></tr></table></div></div><ol start=4><li>问题：无法链接即FullyQualifiedErrorId : WebException。或者操作超时。</li></ol><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl><span class=c1># 注意删除对应目录下scoop文件夹</span>
</span></span><span class=line><span class=cl><span class=nv>$wc</span> <span class=o>=</span> new-object net.webclient
</span></span><span class=line><span class=cl><span class=nv>$wc</span>.Proxy.Credentials <span class=o>=</span> <span class=o>[</span>System.Net.CredentialCache<span class=o>]</span>::DefaultNetworkCredentials
</span></span><span class=line><span class=cl>iex <span class=o>(</span>new-object net.webclient<span class=o>)</span>.downloadstring<span class=o>(</span><span class=s1>&#39;https://raw.githubusercontent.com/lukesampson/scoop/master/bin/install.ps1&#39;</span><span class=o>)</span>
</span></span></code></pre></td></tr></table></div></div><ul><li>手动复制文件https://raw.githubusercontent.com/lukesampson/scoop/master/bin/install.ps1写入到<code>1.ps1</code>文件</li></ul><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>./1.ps1
</span></span></code></pre></td></tr></table></div></div><ul><li>然后定位到<code>Downloading scoop...</code>，手动下载，复制到<code>$dir</code>。</li></ul><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span><span class=lnt>5
</span><span class=lnt>6
</span><span class=lnt>7
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>$ mkdir -r D:<span class=se>\S</span>coop<span class=se>\a</span>pps<span class=se>\s</span>coop<span class=se>\c</span>urrent
</span></span><span class=line><span class=cl><span class=c1># D:\Scoop\apps\scoop\current\scoop.zip</span>
</span></span><span class=line><span class=cl>https://github.com/lukesampson/scoop/archive/master.zip
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>$ mkdir -r D:<span class=se>\S</span>coop<span class=se>\b</span>uckets<span class=se>\m</span>ain
</span></span><span class=line><span class=cl><span class=c1># D:\Scoop\buckets\main\main-bucket.zip</span>
</span></span><span class=line><span class=cl>https://github.com/ScoopInstaller/Main/archive/master.zip
</span></span></code></pre></td></tr></table></div></div><ul><li>然后注释掉以下代码，继续运行<code>1.ps1</code>。</li></ul><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl># 注释掉文件夹检测
</span></span><span class=line><span class=cl>#if (installed &#39;scoop&#39;) {
</span></span><span class=line><span class=cl>#    write-host &#34;Scoop is already installed. Run &#39;scoop update&#39; to get the latest version.&#34; -f red
</span></span><span class=line><span class=cl>#    # don&#39;t abort if invoked with iex that would close the PS session
</span></span><span class=line><span class=cl>#    if ($myinvocation.mycommand.commandtype -eq &#39;Script&#39;) { return } else { exit 1 }
</span></span><span class=line><span class=cl>#}
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>注释掉两个dl $zipurl $zipfile
</span></span><span class=line><span class=cl># dl $zipurl $zipfile
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>#dl $zipurl $zipfile
</span></span></code></pre></td></tr></table></div></div><h3 id=2--scoop-命令 class=headerLink><a href=#2--scoop-%e5%91%bd%e4%bb%a4 class=header-mark></a>2. scoop 命令</h3><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span><span class=lnt>5
</span><span class=lnt>6
</span><span class=lnt>7
</span><span class=lnt>8
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>$ scoop <span class=nb>help</span>
</span></span><span class=line><span class=cl>$ scoop search git
</span></span><span class=line><span class=cl>$ scoop install git
</span></span><span class=line><span class=cl>$ scoop uninstall git 
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>$ scoop update <span class=c1>#更新scoop</span>
</span></span><span class=line><span class=cl>$ scoop update 7zip <span class=c1>#更新7zip</span>
</span></span><span class=line><span class=cl>$ scoop * <span class=c1>#更新全部</span>
</span></span></code></pre></td></tr></table></div></div><h3 id=3-scoop-加速下载 class=headerLink><a href=#3-scoop-%e5%8a%a0%e9%80%9f%e4%b8%8b%e8%bd%bd class=header-mark></a>3. scoop 加速下载</h3><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span><span class=lnt>5
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>$ scoop install aria2
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>$ scoop config aria2-max-connection-per-server <span class=m>16</span>
</span></span><span class=line><span class=cl>$ scoop config aria2-split <span class=m>16</span>
</span></span><span class=line><span class=cl>$ scoop config aria2-min-split-size 1M
</span></span></code></pre></td></tr></table></div></div><h3 id=4-scoop-bucker class=headerLink><a href=#4-scoop-bucker class=header-mark></a>4. scoop bucker</h3><ul><li><a href=https://github.com/rasa/scoop-directory/blob/master/by-apps.md target=_blank rel="noopener noreffer">scoop-directory</a></li></ul><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>$ scoop bucket known <span class=c1># 查看安装了那些库</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># scoop bucket add extras https://github.com/lukesampson/scoop-extras.git</span>
</span></span><span class=line><span class=cl>$ scoop bucket add extras
</span></span><span class=line><span class=cl><span class=c1># scoop install sudo git curl 7zip zotero</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>$ scoop bucket add dorado https://github.com/chawyehsu/dorado
</span></span><span class=line><span class=cl><span class=c1># 或者使用国内镜像，速度快但是非实时同步</span>
</span></span><span class=line><span class=cl>$ scoop bucket add dorado https://gitee.com/h404bi/dorado.git
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>$ scoop install dorado/&lt;软件名&gt;
</span></span></code></pre></td></tr></table></div></div><h3 id=5-配置导出 class=headerLink><a href=#5-%e9%85%8d%e7%bd%ae%e5%af%bc%e5%87%ba class=header-mark></a>5. 配置导出</h3><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>$ scoop list &gt; D:/scoop/ScoopAppList.txt
</span></span></code></pre></td></tr></table></div></div><h2 id=gsodo-插件 class=headerLink><a href=#gsodo-%e6%8f%92%e4%bb%b6 class=header-mark></a>Gsodo 插件</h2><ul><li><a href=https://github.com/gerardog/gsudo target=_blank rel="noopener noreffer">https://github.com/gerardog/gsudo</a></li></ul><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>$ scoop install gsudo
</span></span><span class=line><span class=cl>$ sudo -v
</span></span></code></pre></td></tr></table></div></div><h2 id=git-插件 class=headerLink><a href=#git-%e6%8f%92%e4%bb%b6 class=header-mark></a>Git 插件</h2><p>步骤：git安装->环境配置,path-><code>D:\Git\bin</code>。</p><h2 id=字体渲染 class=headerLink><a href=#%e5%ad%97%e4%bd%93%e6%b8%b2%e6%9f%93 class=header-mark></a>字体渲染</h2><ol><li>下载更纱黑体 <a href=https://github.com/be5invis/Sarasa-Gothic/releases target=_blank rel="noopener noreffer">GitHub 页面</a> ttf格式下载，并选中所有字体文件，右键选择安装。或者下载link: <a href=https://github.com/be5invis/Sarasa-Gothic/releases target=_blank rel="noopener noreffer">Sarasa-Gothic</a>，解压到复制到 <code>C:\Windows\Font\</code>目录。</li><li>配置：鼠标右键->属性->字体->等距更纱黑体SC。</li><li>等宽字体有「等距更纱黑体 SC」或者「Sarasa Mono SC Regular」。</li><li>在 Windows Terminal 的「Settings - profiles - defaults」中加入"fontFace": &ldquo;等距更纱黑体 SC&rdquo;。</li></ol><h2 id=alias-别名 class=headerLink><a href=#alias-%e5%88%ab%e5%90%8d class=header-mark></a>Alias 别名</h2><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span><span class=lnt>18
</span><span class=lnt>19
</span><span class=lnt>20
</span><span class=lnt>21
</span><span class=lnt>22
</span><span class=lnt>23
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl><span class=c1># 查看</span>
</span></span><span class=line><span class=cl>$ gal
</span></span><span class=line><span class=cl>$ Get-Alias
</span></span><span class=line><span class=cl><span class=c1># 创建</span>
</span></span><span class=line><span class=cl>$ New-Alias list get-childitem
</span></span><span class=line><span class=cl><span class=c1># 设置</span>
</span></span><span class=line><span class=cl>$ Set-Alias  list get-childitem
</span></span><span class=line><span class=cl><span class=c1># 删除</span>
</span></span><span class=line><span class=cl>$ Remove-Item ALIAS:<span class=se>\l</span>ist
</span></span><span class=line><span class=cl><span class=c1># Set-Alias或New-Alias命令创建的别名在关闭此Session后即会失效</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># 永久创建</span>
</span></span><span class=line><span class=cl>$ PROFILE
</span></span><span class=line><span class=cl><span class=c1># 不存在创建</span>
</span></span><span class=line><span class=cl>$ New-Item -Type file -Force <span class=nv>$PROFILE</span>
</span></span><span class=line><span class=cl><span class=c1># 打开文件，键入内容Get-ChildItem -Name创建别名ls：</span>
</span></span><span class=line><span class=cl>$ notepad <span class=nv>$PROFILE</span>
</span></span><span class=line><span class=cl><span class=c1>#####################################</span>
</span></span><span class=line><span class=cl><span class=k>function</span> LoginTencent <span class=o>{</span>
</span></span><span class=line><span class=cl>    ssh 用户名@ip地址 -p ssh的端口号
</span></span><span class=line><span class=cl><span class=o>}</span>
</span></span><span class=line><span class=cl>set-alias logten LoginTencent
</span></span><span class=line><span class=cl><span class=c1>#######################################</span>
</span></span></code></pre></td></tr></table></div></div><h2 id=powershell-问题 class=headerLink><a href=#powershell-%e9%97%ae%e9%a2%98 class=header-mark></a>PowerShell 问题</h2><h3 id=1-尝试新的跨平台-powershell-httpsakamspscore6 class=headerLink><a href=#1-%e5%b0%9d%e8%af%95%e6%96%b0%e7%9a%84%e8%b7%a8%e5%b9%b3%e5%8f%b0-powershell-httpsakamspscore6 class=header-mark></a>1. 尝试新的跨平台 PowerShell <code>https://aka.ms/pscore6</code></h3><ol><li>前往<a href=https://github.com/PowerShell/PowerShell/releases target=_blank rel="noopener noreffer">Githubv7.0.0 Release of PowerShell</a>下载对应的msi文件。</li></ol><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>Releases-&gt;Assets-&gt;PowerShell-7.0.2-win-x64.msi
</span></span></code></pre></td></tr></table></div></div><h3 id=2-arning-terminal-type-xterm-256color-is-not-supported-xterm-will-be-used-as-default class=headerLink><a href=#2-arning-terminal-type-xterm-256color-is-not-supported-xterm-will-be-used-as-default class=header-mark></a>2. ARNING: Terminal type &lsquo;xterm-256color&rsquo; is not supported, &lsquo;xterm&rsquo; will be used as default.</h3><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl><span class=c1># 查看xterm终端支持的颜色</span>
</span></span><span class=line><span class=cl>$ tput colors
</span></span><span class=line><span class=cl><span class=c1># 查看终端类型</span>
</span></span><span class=line><span class=cl>$ <span class=nb>echo</span> <span class=nv>$TERM</span>
</span></span><span class=line><span class=cl><span class=c1># 修改1</span>
</span></span><span class=line><span class=cl>$ vim ~/.bashrc
</span></span><span class=line><span class=cl><span class=c1>####################################</span>
</span></span><span class=line><span class=cl><span class=k>if</span> <span class=o>[</span> <span class=s2>&#34;</span><span class=nv>$TERM</span><span class=s2>&#34;</span> <span class=o>==</span> <span class=s2>&#34;xterm&#34;</span> <span class=o>]</span><span class=p>;</span> <span class=k>then</span>
</span></span><span class=line><span class=cl><span class=nb>export</span> <span class=nv>TERM</span><span class=o>=</span>xterm-256color
</span></span><span class=line><span class=cl><span class=k>fi</span>
</span></span><span class=line><span class=cl><span class=c1>####################################</span>
</span></span><span class=line><span class=cl><span class=c1># 修改2</span>
</span></span><span class=line><span class=cl>$ vim ~/.Xresources
</span></span><span class=line><span class=cl><span class=c1>####################################</span>
</span></span><span class=line><span class=cl>xterm*termName: xterm-256color
</span></span><span class=line><span class=cl><span class=c1>####################################</span>
</span></span></code></pre></td></tr></table></div></div><h3 id=3-powershell不显示conda环境 class=headerLink><a href=#3-powershell%e4%b8%8d%e6%98%be%e7%a4%baconda%e7%8e%af%e5%a2%83 class=header-mark></a>3. Powershell不显示conda环境</h3><ul><li>PowerShell 管理员模式</li></ul><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>$ conda init powershell
</span></span><span class=line><span class=cl>$ set-ExecutionPolicy RemoteSigned
</span></span></code></pre></td></tr></table></div></div></div><div class=post-footer id=post-footer><div class=post-info><div class=post-info-line><div class=post-info-mod><span>Updated on 2020-01-01</span></div><div class=post-info-license></div></div><div class=post-info-line><div class=post-info-md></div><div class=post-info-share><span></span></div></div></div><div class=post-info-more><section class=post-tags><i class="fas fa-tags fa-fw"></i>&nbsp;<a href=/tags/%E8%BD%AF%E4%BB%B6/>软件</a></section><section><span><a href=javascript:void(0); onclick=window.history.back()>Back</a></span>&nbsp;|&nbsp;<span><a href=/>Home</a></span></section></div><div class=post-nav><a href=/%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9F%BA%E7%A1%80-0x05%E5%91%BD%E4%BB%A4%E8%A1%8Cterminal/ class=prev rel=prev title="命令行 Terminal"><i class="fas fa-angle-left fa-fw"></i>命令行 Terminal</a>
<a href=/%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%9F%BA%E7%A1%80-0x06%E5%91%BD%E4%BB%A4%E8%A1%8Ccmder/ class=next rel=next title="命令行 Cmder">命令行 Cmder<i class="fas fa-angle-right fa-fw"></i></a></div></div><div id=comments></div></article></div></main><footer class=footer><div class=footer-container><div class=footer-line><i class="far fa-copyright fa-fw"></i><span itemprop=copyrightYear>2022</span><span class=author itemprop=copyrightHolder>&nbsp;<a href=/about/ target=_blank rel="noopener noreferrer">Yangliuly1</a></span>&nbsp;|&nbsp;<span class=license><a rel="license external nofollow noopener noreffer" href=https://creativecommons.org/licenses/by-nc/4.0/ target=_blank>CC BY-NC 4.0</a></span></div><div class=footer-line></div><div class=footer-line></div></div><script>"serviceWorker"in navigator&&(navigator.serviceWorker.register("/sw.min.js",{scope:"/"}).then(function(){}),navigator.serviceWorker.ready.then(function(){}))</script></footer></div><div id=fixed-buttons><a href=#back-to-top id=back-to-top-button class=fixed-button title="Back to Top"><i class="fas fa-arrow-up fa-fw"></i>
</a><a href=# id=view-comments class=fixed-button title="View Comments"><i class="fas fa-comment fa-fw"></i></a></div><div class=assets><script type=text/javascript src=/lib/lazysizes/lazysizes.min.js></script><script type=text/javascript src=/lib/tablesort/tablesort.min.js></script><script type=text/javascript src=/lib/topbar/topbar.min.js></script><script type=text/javascript src=/lib/pjax/pjax.min.js></script><script type=text/javascript src=/js/theme.min.js defer></script></div><div class=pjax-assets><script type=text/javascript>window.config={code:{copyTitle:"Copy to clipboard",maxShownLines:10},comment:{},data:{"desktop-header-typeit":"日落跌进迢迢星野,人间忽晚,山河已秋!","mobile-header-typeit":"日落跌进迢迢星野,人间忽晚,山河已秋!"},math:{delimiters:[{display:!0,left:"$$",right:"$$"},{display:!0,left:"\\[",right:"\\]"},{display:!1,left:"$",right:"$"},{display:!1,left:"\\(",right:"\\)"}],strict:!1},table:{sort:!0},typeit:{cursorChar:"|",cursorSpeed:1e3,data:{"desktop-header-typeit":["desktop-header-typeit"],"mobile-header-typeit":["mobile-header-typeit"]},duration:-1,speed:100}}</script><script type=text/javascript src=/lib/clipboard/clipboard.min.js></script><script type=text/javascript src=/lib/typeit/typeit.min.js></script><script type=text/javascript src=/lib/katex/katex.min.js defer></script><script type=text/javascript src=/lib/katex/auto-render.min.js defer></script><script type=text/javascript src=/lib/katex/copy-tex.min.js defer></script><script type=text/javascript src=/lib/katex/mhchem.min.js defer></script><script type=text/javascript src=/js/katex.min.js defer></script><link rel=stylesheet href=/lib/katex/katex.min.css><link rel=preload as=style onload='this.onload=null,this.rel="stylesheet"' href=/lib/katex/copy-tex.min.css><noscript><link rel=stylesheet href=/lib/katex/copy-tex.min.css></noscript></div></body></html>